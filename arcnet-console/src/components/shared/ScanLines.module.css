/**
 * ScanLines Component - CRT monitor effect overlay
 */

.overlay {
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: var(--z-scanlines);
}

/* Horizontal scan lines */
.scanlines::before {
  content: '';
  position: absolute;
  inset: 0;
  background: repeating-linear-gradient(
    0deg,
    rgba(0, 0, 0, 0.15),
    rgba(0, 0, 0, 0.15) 1px,
    transparent 1px,
    transparent 2px
  );
  pointer-events: none;
}

/* Subtle screen flicker */
.flicker::after {
  content: '';
  position: absolute;
  inset: 0;
  background: rgba(0, 255, 65, 0.02);
  pointer-events: none;
  animation: flicker 0.15s infinite;
  opacity: 0;
}

@keyframes flicker {
  0%, 100% { opacity: 0; }
  50% { opacity: 1; }
}

/* Intensity variants */
.intensityLight::before {
  background: repeating-linear-gradient(
    0deg,
    rgba(0, 0, 0, 0.08),
    rgba(0, 0, 0, 0.08) 1px,
    transparent 1px,
    transparent 2px
  );
}

.intensityMedium::before {
  background: repeating-linear-gradient(
    0deg,
    rgba(0, 0, 0, 0.15),
    rgba(0, 0, 0, 0.15) 1px,
    transparent 1px,
    transparent 2px
  );
}

.intensityHeavy::before {
  background: repeating-linear-gradient(
    0deg,
    rgba(0, 0, 0, 0.25),
    rgba(0, 0, 0, 0.25) 1px,
    transparent 1px,
    transparent 3px
  );
}

/* CRT curvature effect (vignette) */
.vignette {
  box-shadow: inset 0 0 150px rgba(0, 0, 0, 0.7);
}

/* RGB shift/chromatic aberration on edges */
.rgbShift::before {
  animation: rgbShift 8s ease-in-out infinite;
}

@keyframes rgbShift {
  0%, 100% {
    filter: none;
  }
  25% {
    filter: drop-shadow(1px 0 0 rgba(255, 0, 0, 0.1))
            drop-shadow(-1px 0 0 rgba(0, 255, 255, 0.1));
  }
  75% {
    filter: drop-shadow(-1px 0 0 rgba(255, 0, 0, 0.1))
            drop-shadow(1px 0 0 rgba(0, 255, 255, 0.1));
  }
}

/* Scanline movement animation */
.animated::before {
  animation: scanlineMove 10s linear infinite;
}

@keyframes scanlineMove {
  0% {
    background-position: 0 0;
  }
  100% {
    background-position: 0 100%;
  }
}

/* Phosphor glow effect */
.phosphorGlow {
  background: radial-gradient(
    ellipse at center,
    rgba(0, 255, 65, 0.03) 0%,
    transparent 70%
  );
}

/* Static noise overlay */
.noise::after {
  content: '';
  position: absolute;
  inset: 0;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
  opacity: 0.02;
  pointer-events: none;
  animation: noiseAnimation 0.5s steps(10) infinite;
}

@keyframes noiseAnimation {
  0%, 100% { transform: translate(0, 0); }
  10% { transform: translate(-1%, -1%); }
  20% { transform: translate(1%, 1%); }
  30% { transform: translate(-1%, 1%); }
  40% { transform: translate(1%, -1%); }
  50% { transform: translate(-1%, 0); }
  60% { transform: translate(1%, 0); }
  70% { transform: translate(0, 1%); }
  80% { transform: translate(0, -1%); }
  90% { transform: translate(1%, 1%); }
}

/* Horizontal glitch line (occasional) */
.glitch::before {
  animation: glitchLine 15s linear infinite;
}

@keyframes glitchLine {
  0%, 99.5%, 100% {
    clip-path: none;
  }
  99.6% {
    clip-path: inset(40% 0 30% 0);
    transform: translateX(2px);
  }
  99.7% {
    clip-path: inset(60% 0 20% 0);
    transform: translateX(-2px);
  }
  99.8% {
    clip-path: inset(20% 0 60% 0);
    transform: translateX(1px);
  }
}
